<tr style="vertical-align: middle" id="bonzo-row-<%= audio_file.id %>">
    <td style="padding: 10px 10px 10px 0;">
      <% if audio_file.source_file.attached? %>
        <%= link_to(audio_file.source_file.blob.filename, my_bonzo_detail_path(audio_file.id)) %>
      <% else %>
        File is missing. Please delete this.
      <% end %>
      <%= render "my/partial_audio_file_information", audio_file: audio_file %>
    </td>
    <td style="padding: 10px; width: 200px">
      <% if !audio_file.source_file.attached? %>
        Missing file.
      <% elsif audio_file.audio_file_bonzo_status.nil? || (!audio_file.audio_file_bonzo_status.nil? && audio_file.audio_file_bonzo_status.pending? || audio_file.audio_file_bonzo_status.cancelled?) %>
        <%= link_to("Bonzo 🥁", my_bonzo_start_path(audio_file.id), data: { confirm: '"This will take time 🥁" - Bonzo' }, method: :post) %>
      <% elsif !audio_file.audio_file_bonzo_status.nil? && audio_file.audio_file_bonzo_status.processing? %>
        Bonzo is processing <%= image_pack_tag "fire.gif", :size => "25x25", :style => "vertical-align: bottom" %>
        </br>
        <%= link_to("<i class='icon-remove'></i> Cancel".html_safe, my_bonzo_cancel_path(audio_file.id), data: { confirm: 'This will cancel the Bonzo 🥁 process.' }, method: :patch) %>
      <% elsif !audio_file.audio_file_bonzo_status.nil? && audio_file.audio_file_bonzo_status.done? %>
        <%= link_to("<i class='icon-list'></i> See results".html_safe, my_bonzo_detail_path(audio_file.id)) %>
      <% elsif !audio_file.audio_file_bonzo_status.nil? && audio_file.audio_file_bonzo_status.no_results? %>
        <%= link_to("Bonzo 🥁 again?".html_safe, my_bonzo_start_path(audio_file.id), data: { confirm: '"This will take time 🥁" - Bonzo' }, method: :post) %>
      <% end %>
    </td>
</tr>