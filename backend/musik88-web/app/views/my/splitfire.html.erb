<% content_for :meta_head do %>
    <title><%= @meta_title %> | <%= @user.name %></title>
    <meta name="description" content="<%= @meta_description %>">
<% end %>
    
    <div class="row">
      <!-- BEGIN content -->
      <div class="col-md-12">
        
          <div class="page-header">
              <h1><%= t("my") %> / <%= "SplitFire #{image_pack_tag('fire.gif', :size => '34x34', :style => 'vertical-align: top')}".html_safe %></h1>
          </div>
			    <%= render "shared/flash_message", object: flash %>
        
      </div>
      <div class="col-md-2">
        <%= render "my/partial_menu" %>
      </div>
      <div class="col-md-10">
        
          <div class="row">
            <!-- BEGIN content -->
            <div class="col-md-12">
              <div class="lead page-info">
                <b><i>SplitFire</i></b> is your AI personal assistant that can generate <b><i>stem files</i></b> from a song. You might not want to use it directly. Instead, you can use the bass backing track generator, karaoke file generator, or drum backing track generator that are based on SplitFire.
              </div>
              <div class="splitfire-settings">
                <h3>Settings</h3>
                <%= form_with model: @splitfire_settings, url: {action: "splitfire_settings"}  do |f| %>
                  <table style="width: 100%">
                    <tr style="vertical-align: top">
                      <td style="padding: 10px 10px 10px 0;">
                        <b>Model</b>
                        </br>
                        <i>2 stems (vocals / accompaniment)</i></br>
                        <i>4 stems (vocals / bass / drums / other )</i></br>
                        <i>5 stems (vocals / bass / drums / piano / other)</i>
                      </td>
                      <td style="padding: 10px 10px 10px 0;">
                        <%= f.select :model, UserSetting.models.map { |key, value| [key.humanize, key] } %>
                      </td>
                    </tr>
                    <tr style="vertical-align: top">
                      <td style="padding: 10px 10px 10px 0;">
                        <b>Frequency</b>
                        </br>
                        <i>High frequency setting will persist original frequency.</i></br>
                      </td>
                      <td style="padding: 10px 10px 10px 0;">
                        <%= f.select :frequency, UserSetting.frequencies.map { |key, value| [key.humanize, key] } %>
                      </td>
                    </tr>
                    <tr style="vertical-align: top">
                      <td style="padding: 10px 10px 10px 0;">
                      </td>
                      <td style="padding: 10px 10px 10px 0;">
                        <%= f.submit "Update settings", class: "bb-button bb-green bb-large" %>
                      </td>
                    </tr>
                  </table>
                <% end %>
              </div>
              <h2>Files</h2>
              <% if @audio_files.count == 0 %>
                You don't have any files to split.
              <% else %>
                <table style="width: 100%">
                  <% @audio_files.each_with_index do |audio_file, index| %>
                    <%= render "my/partial_splitfire_row", audio_file: audio_file %>
                  <% end %>
                </table>
              <% end %>
              <div class="modul" style="margin-top: 20px; padding-right: 6px;">
                <%= render "shared/partial_splitfire_version" %>
              </div>
            </div>
          </div>
        
      </div>
      <!-- END content -->
    </div>
    
    <div class="row" style="margin-top: 20px;">
      <div class="col-md-12">
        
          <ol class="breadcrumb">
            <li><%= link_to t("breadcrumb_home"), root_path %></li>
          </ol>
        
      </div>
    </div>
    